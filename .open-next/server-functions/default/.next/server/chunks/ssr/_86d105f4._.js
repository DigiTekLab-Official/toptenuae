module.exports=[61561,a=>{"use strict";let b=(0,a.i(15794).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],61561)},62797,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(63652),g=a.r(30499),h=a.r(35066),i=f._(a.r(83638));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},13119,(a,b,c)=>{b.exports=a.r(62797)},90049,a=>{"use strict";var b=a.i(43080),c=a.i(33700),d=a.i(13119);function e({endDate:a}){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)({days:0,hours:0,minutes:0,seconds:0,expired:!1});if((0,c.useEffect)(()=>{e(!0);let b=()=>{let b=new Date(a).getTime()-new Date().getTime();return b<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0}:{days:Math.floor(b/864e5),hours:Math.floor(b/36e5%24),minutes:Math.floor(b/1e3/60%60),seconds:Math.floor(b/1e3%60),expired:!1}};g(b());let c=setInterval(()=>{g(b())},1e3);return()=>clearInterval(c)},[a]),!d)return null;if(f.expired)return(0,b.jsx)("span",{className:"text-red-600 text-sm font-bold bg-red-50 px-2 py-1 rounded",children:"Expired"});let h=a=>a.toString().padStart(2,"0");return(0,b.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[f.days>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-gray-800 text-white px-2 py-1 rounded text-xs font-bold min-w-[32px] text-center",children:[h(f.days),"d"]}),(0,b.jsx)("span",{className:"text-gray-400 font-bold",children:":"})]}),(0,b.jsxs)("div",{className:"bg-gray-800 text-white px-2 py-1 rounded text-xs font-bold min-w-[32px] text-center",children:[h(f.hours),"h"]}),(0,b.jsx)("span",{className:"text-gray-400 font-bold",children:":"}),(0,b.jsxs)("div",{className:"bg-gray-800 text-white px-2 py-1 rounded text-xs font-bold min-w-[32px] text-center",children:[h(f.minutes),"m"]}),(0,b.jsx)("span",{className:"text-gray-400 font-bold",children:":"}),(0,b.jsxs)("div",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs font-bold min-w-[32px] text-center animate-pulse",children:[h(f.seconds),"s"]})]})}var f=a.i(61561),g=a.i(15794);let h=(0,g.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),i=(0,g.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),j=(0,g.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function k({deal:a}){let[g,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),n="object"==typeof a.category&&null!==a.category?a.category.title||"Deal":a.category||"Deal",o=a.discountPercentage||("number"==typeof a.originalPrice&&"number"==typeof a.dealPrice&&a.originalPrice>0?Math.round((a.originalPrice-a.dealPrice)/a.originalPrice*100):0);return(0,b.jsx)("article",{className:"group relative block h-full",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-slate-300 hover:border-[#4b0082]/30 transition-all duration-300 h-full flex flex-col overflow-hidden",children:[o>0&&(0,b.jsx)("div",{className:"absolute top-0 right-0 z-10",children:(0,b.jsx)("div",{className:"bg-[#4b0082]/10 w-24 h-24 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110 flex items-end justify-start pb-5 pl-5",children:(0,b.jsxs)("span",{className:"text-[#4b0082] font-black text-lg",children:["-",o,"%"]})})}),(0,b.jsxs)("div",{className:"relative h-48 w-full mb-6 flex items-center justify-center p-4 bg-slate-50 rounded-xl group-hover:bg-purple-50 transition-colors duration-300",children:[a.image&&!g?(0,b.jsx)("div",{className:"relative w-full h-full",children:(0,b.jsx)(d.default,{src:a.image,alt:a.title,fill:!0,className:"object-contain mix-blend-multiply group-hover:scale-105 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw",onError:()=>k(!0)})}):(0,b.jsx)(h,{className:"w-12 h-12 text-slate-300"}),a.isPrimeExclusive&&(0,b.jsx)("div",{className:"absolute top-2 left-2 bg-[#00A8E1] text-white text-[10px] font-bold py-1 px-2 rounded shadow-sm",children:"Prime Only"})]}),(0,b.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider text-[#4b0082] bg-purple-50 px-2 py-1 rounded-md",children:n})}),(0,b.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-2 group-hover:text-[#4b0082] transition-colors line-clamp-2",title:a.title,children:a.title}),(0,b.jsxs)("div",{className:"mt-auto pt-2",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-black text-slate-900",children:"number"==typeof a.dealPrice?(0,b.jsxs)(b.Fragment,{children:["AED ",Math.floor(a.dealPrice),(0,b.jsxs)("span",{className:"text-sm align-top",children:[".",a.dealPrice.toFixed(2).split(".")[1]]})]}):"AED --"}),"number"==typeof a.originalPrice&&"number"==typeof a.dealPrice&&a.originalPrice>a.dealPrice&&(0,b.jsxs)("span",{className:"text-sm text-slate-400 line-through decoration-slate-400",children:["AED ",Math.floor(a.originalPrice)]})]}),a.dealEndDate&&(0,b.jsxs)("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-1 bg-slate-50 py-1 px-2 rounded w-fit",children:[(0,b.jsx)("span",{children:"â³ Ends in:"}),(0,b.jsx)(e,{endDate:a.dealEndDate})]})]})]}),a.couponCode&&(0,b.jsx)("div",{className:"mt-4 mb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between bg-amber-50 border border-amber-200 border-dashed rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] text-amber-800 font-bold uppercase tracking-wider",children:"Use Code:"}),(0,b.jsx)("span",{className:"text-sm font-black text-amber-900 font-mono",children:a.couponCode}),a.couponNote&&(0,b.jsx)("span",{className:"text-[9px] text-amber-700",children:a.couponNote})]}),(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),a.couponCode&&(navigator.clipboard.writeText(a.couponCode),m(!0),setTimeout(()=>m(!1),2e3))},className:"bg-white p-2 rounded-md shadow-sm border border-amber-200 hover:bg-amber-100 transition-colors",title:"Copy Code",children:l?(0,b.jsx)(j,{className:"w-4 h-4 text-green-600"}):(0,b.jsx)(i,{className:"w-4 h-4 text-amber-600"})})]})}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-100",children:(0,b.jsxs)("a",{href:a.affiliateLink,target:"_blank",rel:"nofollow sponsored noopener noreferrer",className:"flex items-center justify-between w-full text-slate-600 font-bold text-sm group-hover:text-[#4b0082] transition-colors",children:[(0,b.jsx)("span",{children:"View Deal on Amazon"}),(0,b.jsx)(f.ArrowRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})})}var l=a.i(66309);let m=(0,g.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]),n=[{id:"All",name:"All Deals"},{id:"Electronics",name:"Electronics"},{id:"Home & Kitchen",name:"Home"},{id:"Fashion",name:"Fashion"},{id:"Beauty & Personal Care",name:"Beauty"},{id:"Toys & Games",name:"Toys"},{id:"Prime Exclusive",name:"Prime"}];function o({selectedCategory:a,sortBy:d,onCategoryChange:e,onSortChange:f,onSearch:g}){let[h,i]=(0,c.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>i(!h),className:"lg:hidden mb-6 bg-white text-slate-700 border border-slate-300 rounded-xl px-4 py-3 flex items-center justify-center w-full font-bold shadow-sm",children:[(0,b.jsx)(m,{className:"w-4 h-4 mr-2"}),h?"Hide Filters":"Filter Deals"]}),(0,b.jsx)("div",{className:`${h?"block":"hidden"} lg:block mb-10`,children:(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,b.jsx)("label",{htmlFor:"deals-search",className:"sr-only",children:"Search for products"}),(0,b.jsx)("input",{id:"deals-search",type:"text",placeholder:"Search for products...",onChange:a=>g(a.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#4b0082] focus:border-transparent shadow-sm text-slate-700 placeholder:text-slate-400 transition-all"}),(0,b.jsx)(l.Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,b.jsx)("label",{htmlFor:"sort-select",className:"sr-only",children:"Sort deals"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-500 whitespace-nowrap hidden md:block",children:"Sort by:"}),(0,b.jsxs)("select",{id:"sort-select",value:d,onChange:a=>f(a.target.value),className:"w-full md:w-48 bg-white border border-slate-200 text-slate-700 text-sm font-medium rounded-xl focus:ring-[#4b0082] focus:border-[#4b0082] block p-3 shadow-sm cursor-pointer",children:[(0,b.jsx)("option",{value:"latest",children:"Newest Arrivals"}),(0,b.jsx)("option",{value:"discount",children:"Highest Discount"}),(0,b.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,b.jsx)("option",{value:"rating",children:"Top Rated"})]})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(c=>(0,b.jsx)("button",{onClick:()=>e(c.id),className:`px-5 py-2.5 rounded-full font-bold text-sm transition-all duration-200 border ${a===c.id?"bg-[#4b0082] text-white border-[#4b0082] shadow-md shadow-purple-200":"bg-white text-slate-600 border-slate-200 hover:border-[#4b0082] hover:text-[#4b0082]"}`,children:c.name},c.id))})]})})]})}function p({initialDeals:a}){let[d,e]=(0,c.useState)("All"),[f,g]=(0,c.useState)("latest"),[h,i]=(0,c.useState)(""),j=(0,c.useMemo)(()=>{let b=[...a];if("All"!==d&&(b="Prime Exclusive"===d?b.filter(a=>a.isPrimeExclusive):b.filter(a=>{let b="string"==typeof a.category?a.category:a.category?.title;return b?.toLowerCase()===d.toLowerCase()})),h){let a=h.toLowerCase();b=b.filter(b=>b.title.toLowerCase().includes(a)||b.description?.toLowerCase().includes(a))}switch(f){case"discount":b.sort((a,b)=>(b.discountPercentage||0)-(a.discountPercentage||0));break;case"price-low":b.sort((a,b)=>(a.dealPrice||0)-(b.dealPrice||0));break;case"rating":b.sort((a,b)=>(b.rating||0)-(a.rating||0));break;default:b.sort((a,b)=>new Date(b._createdAt).getTime()-new Date(a._createdAt).getTime())}return b},[a,d,f,h]);return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)(o,{selectedCategory:d,sortBy:f,onCategoryChange:e,onSortChange:g,onSearch:i}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:j.length>0?j.map(a=>(0,b.jsx)(k,{deal:a},a._id)):(0,b.jsxs)("div",{className:"col-span-full text-center py-20",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ›’"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"No deals found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters."}),(0,b.jsx)("button",{onClick:()=>{e("All"),i("")},className:"mt-4 text-orange-600 font-medium hover:underline",children:"Clear filters"})]})})]})}a.s(["default",()=>p],90049)}];

//# sourceMappingURL=_86d105f4._.js.map